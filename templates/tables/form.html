{% extends "layout.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<h1>{{ title }}</h1>

{% set form_action = url_for('tables.edit_table', table_id=table_id) if table_id else url_for('tables.add_table') %}

<form method="POST" action="{{ form_action }}">
    <div class="row">
         <div class="col-md-6 mb-3">
            <label for="number" class="form-label">Table Number *</label>
            <input type="number" min="1" class="form-control" id="number" name="number" value="{{ table.number if table else '' }}" required>
        </div>
        <div class="col-md-6 mb-3">
            <label for="capacity" class="form-label">Capacity *</label>
            <input type="number" min="1" class="form-control" id="capacity" name="capacity" value="{{ table.capacity if table else '' }}" required>
             <div class="form-text">Number of people the table can seat.</div>
        </div>
    </div>
    <div class="row">
         <div class="col-md-6 mb-3">
            <label for="status" class="form-label">Status *</label>
            <select class="form-select" id="status" name="status" required>
                {% set current_status = table.status if table else 'available' %}
                {% for status_option in statuses %}
                <option value="{{ status_option }}" {{ 'selected' if status_option == current_status }}>{{ status_option|capitalize }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6 mb-3">
            <label for="location" class="form-label">Location (Optional)</label>
            <input type="text" class="form-control" id="location" name="location" value="{{ table.location if table and 'location' in table else '' }}" placeholder="e.g., Patio, Near Window, Booth">
        </div>
    </div>

    <button type="submit" class="btn btn-primary">Save Table</button>
    <a href="{{ url_for('tables.list_tables') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}